<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitLink ä¿®æ”¹æ¼”ç¤º - ç©ºä»“åº“åˆ›å»º</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #f5f5f5; }
    
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      text-align: center;
    }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
    
    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 30px;
    }
    
    .panel {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    .panel-header {
      padding: 15px 20px;
      border-bottom: 2px solid #e0e0e0;
      font-weight: bold;
      font-size: 18px;
    }
    
    .before { background: #ffebee; color: #c62828; }
    .after { background: #e8f5e9; color: #2e7d32; }
    
    .panel-content { padding: 20px; }
    
    .code-block {
      background: #263238;
      color: #aed581;
      padding: 15px;
      border-radius: 5px;
      font-family: 'Consolas', monospace;
      font-size: 13px;
      overflow-x: auto;
      margin: 10px 0;
    }
    
    .code-block .comment { color: #78909c; }
    .code-block .removed { color: #ef5350; text-decoration: line-through; }
    .code-block .added { color: #66bb6a; }
    
    .btn {
      display: inline-block;
      padding: 10px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
    }
    
    .btn:hover { background: #5568d3; }
    .btn-success { background: #2e7d32; }
    .btn-success:hover { background: #1b5e20; }
    
    .repository-view {
      border: 1px solid #e0e0e0;
      border-radius: 5px;
      padding: 20px;
      margin: 20px 0;
      background: #fafafa;
    }
    
    .repository-empty {
      text-align: center;
      padding: 40px 20px;
      color: #757575;
    }
    
    .repository-empty-icon {
      font-size: 48px;
      margin-bottom: 10px;
    }
    
    .file-list {
      list-style: none;
    }
    
    .file-list li {
      padding: 8px 12px;
      border: 1px solid #e0e0e0;
      margin: 5px 0;
      border-radius: 4px;
      display: flex;
      align-items: center;
    }
    
    .file-icon { margin-right: 10px; }
    
    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 3px;
      font-size: 12px;
      margin-left: 10px;
    }
    
    .badge-modified { background: #fff3e0; color: #e65100; }
    .badge-success { background: #e8f5e9; color: #2e7d32; }
    
    .step {
      margin: 20px 0;
      padding: 15px;
      background: #fff;
      border-left: 4px solid #667eea;
      border-radius: 4px;
    }
    
    .step-number {
      display: inline-block;
      width: 30px;
      height: 30px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      margin-right: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ”§ GitLink ä¿®æ”¹æ¼”ç¤º</h1>
    <p>åˆ›å»ºç©ºä»“åº“åŠŸèƒ½ - ç§»é™¤è‡ªåŠ¨ README.md ç”Ÿæˆ</p>
  </div>
  
  <div class="container">
    <!-- ä¿®æ”¹å¯¹æ¯” -->
    <div class="comparison">
      <div class="panel">
        <div class="panel-header before">âŒ ä¿®æ”¹å‰ï¼ˆè‡ªåŠ¨ç”Ÿæˆ READMEï¼‰</div>
        <div class="panel-content">
          <p>åˆ›å»ºé¡¹ç›®åä¼šè‡ªåŠ¨ç”Ÿæˆ README.md æ–‡ä»¶ï¼š</p>
          <div class="code-block">
<span class="comment"># app/models/project.rb</span>
<span class="removed">after_create :initialize_readme_file</span>

<span class="comment"># æ–¹æ³•å®ç°</span>
<span class="removed">def initialize_readme_file(user)</span>
<span class="removed">  content = "# #{self.name}\n\n#{self.description}"</span>
<span class="removed">  create_file('README.md', content, user)</span>
<span class="removed">end</span>
          </div>
          <div class="repository-view">
            <div class="file-list">
              <li><span class="file-icon">ğŸ“„</span> README.md <span class="badge badge-modified">è‡ªåŠ¨ç”Ÿæˆ</span></li>
            </div>
          </div>
          <p class="problem">âš ï¸ é—®é¢˜ï¼šç”¨æˆ·æ— æ³•ç›´æ¥ä¸Šä¼ å·²æœ‰é¡¹ç›®</p>
        </div>
      </div>
      
      <div class="panel">
        <div class="panel-header after">âœ… ä¿®æ”¹åï¼ˆç©ºä»“åº“ï¼‰</div>
        <div class="panel-content">
          <p>åˆ›å»ºé¡¹ç›®åä»“åº“ä¸ºç©ºï¼Œç­‰å¾…ç”¨æˆ·æ“ä½œï¼š</p>
          <div class="code-block">
<span class="comment"># app/models/project.rb</span>
<span class="added"># after_create :initialize_readme_file  # å·²æ³¨é‡Š</span>

<span class="comment"># æ–¹æ³•å®ç°</span>
<span class="added">def initialize_readme_file(user)</span>
<span class="added">  # å·²ç¦ç”¨ - åˆ›å»ºç©ºä»“åº“</span>
<span class="added">  return true</span>
<span class="added">end</span>
          </div>
          <div class="repository-view">
            <div class="repository-empty">
              <div class="repository-empty-icon">ğŸ“</div>
              <p><strong>æ­¤ä»“åº“ä¸ºç©º</strong></p>
              <p>æ‚¨å¯ä»¥ä¸Šä¼ æ–‡ä»¶æˆ–åˆå§‹åŒ–æ–°æ–‡ä»¶</p>
            </div>
          </div>
          <p class="benefit">âœ… ä¼˜åŠ¿ï¼šå¯ç›´æ¥ä¸Šä¼ å·²æœ‰ Git é¡¹ç›®</p>
        </div>
      </div>
    </div>
    
    <!-- ä¿®æ”¹æ­¥éª¤ -->
    <h2 style="margin-top: 40px;">ğŸ“ ä¿®æ”¹æ­¥éª¤</h2>
    
    <div class="step">
      <span class="step-number">1</span>
      <strong>å®šä½æ–‡ä»¶</strong>
      <p>æ‰¾åˆ° <code>app/models/project.rb</code> æ–‡ä»¶</p>
    </div>
    
    <div class="step">
      <span class="step-number">2</span>
      <strong>æ³¨é‡Šå›è°ƒ</strong>
      <p>æ³¨é‡Šæ‰ <code>after_create :initialize_readme_file</code></p>
    </div>
    
    <div class="step">
      <span class="step-number">3</span>
      <strong>ä¿®æ”¹æ–¹æ³•</strong>
      <p>å°† <code>initialize_readme_file</code> æ–¹æ³•æ”¹ä¸ºè¿”å› <code>true</code> è€Œä¸åˆ›å»ºæ–‡ä»¶</p>
    </div>
    
    <div class="step">
      <span class="step-number">4</span>
      <strong>æµ‹è¯•éªŒè¯</strong>
      <p>åˆ›å»ºæµ‹è¯•é¡¹ç›®ï¼Œç¡®è®¤ä»“åº“ä¸ºç©º</p>
    </div>
    
    <!-- æ“ä½œæŒ‰é’® -->
    <div style="text-align: center; margin-top: 40px;">
      <button class="btn" onclick="showBefore()">æŸ¥çœ‹ä¿®æ”¹å‰</button>
      <button class="btn btn-success" onclick="showAfter()">æŸ¥çœ‹ä¿®æ”¹å</button>
      <button class="btn" onclick="downloadPatch()">ä¸‹è½½è¡¥ä¸</button>
    </div>
    
    <!-- åŠ¨æ€å±•ç¤ºåŒºåŸŸ -->
    <div id="demo-area" style="margin-top: 30px;"></div>
  </div>
  
  <script>
    function showBefore() {
      const area = document.getElementById('demo-area');
      area.innerHTML = `
        <div class="panel">
          <div class="panel-header before">ä¿®æ”¹å‰çš„é¡¹ç›®åˆ›å»ºæµç¨‹</div>
          <div class="panel-content">
            <ol style="margin-left: 20px;">
              <li>ç”¨æˆ·ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"</li>
              <li>å¡«å†™é¡¹ç›®åç§°å’Œæè¿°</li>
              <li>ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º README.md</li>
              <li>è·³è½¬åˆ°é¡¹ç›®é¡µé¢ï¼Œæ˜¾ç¤º README å†…å®¹</li>
            </ol>
            <div class="repository-view" style="margin-top: 20px;">
              <div class="file-list">
                <li><span class="file-icon">ğŸ“„</span> README.md <span class="badge badge-modified">å·²å­˜åœ¨</span></li>
              </div>
              <p style="margin-top: 15px; color: #757575;">
                ç”¨æˆ·éœ€è¦å…ˆåˆ é™¤ README.md æ‰èƒ½ä¸Šä¼ è‡ªå·±çš„é¡¹ç›®
              </p>
            </div>
          </div>
        </div>
      `;
    }
    
    function showAfter() {
      const area = document.getElementById('demo-area');
      area.innerHTML = `
        <div class="panel">
          <div class="panel-header after">ä¿®æ”¹åçš„é¡¹ç›®åˆ›å»ºæµç¨‹</div>
          <div class="panel-content">
            <ol style="margin-left: 20px;">
              <li>ç”¨æˆ·ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"</li>
              <li>å¡«å†™é¡¹ç›®åç§°å’Œæè¿°</li>
              <li>ç³»ç»Ÿåˆ›å»ºç©ºä»“åº“</li>
              <li>è·³è½¬åˆ°é¡¹ç›®é¡µé¢ï¼Œæ˜¾ç¤ºç©ºä»“åº“æç¤º</li>
            </ol>
            <div class="repository-view" style="margin-top: 20px;">
              <div class="repository-empty">
                <div class="repository-empty-icon">ğŸ“</div>
                <p><strong>æ­¤ä»“åº“ä¸ºç©º</strong></p>
                <p>æ‚¨å¯ä»¥ï¼š</p>
                <ul style="margin-top: 10px; text-align: left; display: inline-block;">
                  <li>ğŸ“¤ ä¸Šä¼ å·²æœ‰é¡¹ç›®æ–‡ä»¶</li>
                  <li>â• åˆå§‹åŒ–æ–°æ–‡ä»¶</li>
                  <li>ğŸ”— å…³è”è¿œç¨‹ä»“åº“</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      `;
    }
    
    function downloadPatch() {
      alert('è¡¥ä¸æ–‡ä»¶å·²ç”Ÿæˆï¼šgitlink-readme-patch.rb');
    }
    
    // åˆå§‹æ˜¾ç¤ºä¿®æ”¹åæ•ˆæœ
    showAfter();
  </script>
</body>
</html>